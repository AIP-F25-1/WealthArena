# Market data provider settings
alphaVantage.apiKey=${ALPHAVANTAGE_API_KEY:}
yahoo.baseUrl=https://query1.finance.yahoo.com
alphaVantage.baseUrl=https://www.alphavantage.co

# PostgreSQL datasource (matches docker-compose timescaledb service)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/wealtharena}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:admin}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:password123}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA & Hibernate
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Connection pool (optional sane defaults)
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=30000

# Server
server.port=${SERVER_PORT:8081}

# Disable MongoDB auto-configuration (not used)
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration

# Data loader configuration
app.data-loader.enabled=${APP_DATA_LOADER_ENABLED:true}
app.data-loader.symbol=${APP_DATA_LOADER_SYMBOL:AAPL}

# JWT
jwt.secret=${JWT_SECRET:myVerySecretKeyThatIsAtLeast256BitsLongForJWTTokenGenerationAndSecurity123456789}
jwt.expirationMinutes=${JWT_EXPIRATION_MINUTES:60}

# Scheduled Data Fetching
app.scheduled-data.enabled=${SCHEDULED_DATA_ENABLED:true}
app.scheduled-data.symbols=${SCHEDULED_DATA_SYMBOLS:AAPL,MSFT,GOOGL,AMZN,TSLA,META,NVDA,NFLX}
app.scheduled-data.fetch-time=${SCHEDULED_DATA_FETCH_TIME:18:00}
app.scheduled-data.cleanup-days=${SCHEDULED_DATA_CLEANUP_DAYS:30}

spring.application.name=wealtharena
